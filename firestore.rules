rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /* NEW: allow read only, writes go through Admin SDK */
    match /organisers/{email} {
      allow read: if true;
      allow write: if false;        // Admin SDK bypasses rules
    }

    /* keep your existing rules below */
    match /{collection=**} {
      allow read, write: if request.auth != null
                         && request.auth.uid == request.auth.uid;
    }
    match /allowedUsers/{email}  { allow read: if true; }
    match /superAdmins/{email}   { allow read: if true; }
    match /{collection=**} {
      allow read: if request.auth != null
                  && request.auth.token.email.matches('.*@ds\\.study\\.iitm\\.ac\\.in$');
    }
  }
}