(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[386],{5516:(e,r,t)=>{Promise.resolve().then(t.bind(t,9326))},9326:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(5155),l=t(2115);function a(){let[e,r]=(0,l.useState)(!1);(0,l.useEffect)(()=>r(!0),[]);let[t,a]=(0,l.useState)(""),[n,o]=(0,l.useState)(!1),[i,d]=(0,l.useState)(""),[c,u]=(0,l.useState)(""),[x,g]=(0,l.useState)(""),[m,p]=(0,l.useState)(""),[h,b]=(0,l.useState)(""),[y,j]=(0,l.useState)(""),[f,v]=(0,l.useState)(!1),[N,w]=(0,l.useState)(""),C=()=>o(!0),S=async()=>{if(!i||!c||!x&&!m||!h&&!y)return w("All fields are required");let e="custom"===x?m:x,r="custom"===h?y:h;v(!0),w("");try{let s=await fetch("/api/atlas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,email:i,name:c,position:e,department:r})}),l=await s.json();if(!s.ok)throw Error(l.error||"Failed");w("Saved ✅"),d(""),u(""),g(""),p(""),b(""),j("")}catch(e){w("Error: ".concat(e.message))}v(!1)};return e?n?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Atlas Admin"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Add new organiser"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"h-3 w-3 rounded-full bg-green-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Admin mode"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"New Organiser"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Fill all fields below"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Document ID)"}),(0,s.jsx)("input",{type:"email",placeholder:"user@ds.study.iitm.ac.in",value:i,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:ring-2 focus:ring-blue-500 outline-none transition"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,s.jsx)("input",{type:"text",placeholder:"Full name",value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:ring-2 focus:ring-blue-500 outline-none transition"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,s.jsxs)("select",{value:x,onChange:e=>g(e.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none transition",children:[(0,s.jsx)("option",{value:"",children:"Select position"}),(0,s.jsx)("option",{children:"Volunteer"}),(0,s.jsx)("option",{children:"Co-ordinator"}),(0,s.jsx)("option",{children:"Super-Coordinator"}),(0,s.jsx)("option",{children:"Core"}),(0,s.jsx)("option",{children:"Deputy Core"}),(0,s.jsx)("option",{children:"Event Head"}),(0,s.jsx)("option",{children:"Event Deputy Head"}),(0,s.jsx)("option",{children:"Event Team"}),(0,s.jsx)("option",{value:"custom",children:"Custom"})]}),"custom"===x&&(0,s.jsx)("input",{type:"text",placeholder:"Type custom position",value:m,onChange:e=>p(e.target.value),className:"mt-2 w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:ring-2 focus:ring-blue-500 outline-none transition"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,s.jsxs)("select",{value:h,onChange:e=>b(e.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none transition",children:[(0,s.jsx)("option",{value:"",children:"Select department"}),(0,s.jsx)("option",{children:"Outreach and Hospitality"}),(0,s.jsx)("option",{children:"Technicals"}),(0,s.jsx)("option",{children:"Sports"}),(0,s.jsx)("option",{children:"Culturals"}),(0,s.jsx)("option",{children:"Sponsership"}),(0,s.jsx)("option",{children:"Central Events"}),(0,s.jsx)("option",{value:"custom",children:"Custom"})]}),"custom"===h&&(0,s.jsx)("input",{type:"text",placeholder:"Type custom department",value:y,onChange:e=>j(e.target.value),className:"mt-2 w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:ring-2 focus:ring-blue-500 outline-none transition"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Password"}),(0,s.jsx)("input",{type:"password",value:t,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:ring-2 focus:ring-blue-500 outline-none transition"})]}),(0,s.jsx)("button",{onClick:S,disabled:f,className:"w-full py-3 px-4 ".concat(f?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"," text-white font-medium rounded-lg transition flex items-center justify-center"),children:f?"Saving…":"Save Organiser"}),N&&(0,s.jsx)("div",{className:"px-4 py-3 rounded-lg text-sm border ".concat(N.includes("Error")?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"),children:N})]})]})]})}):(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-6",children:(0,s.jsxs)("div",{className:"w-full max-w-md bg-gray-800 rounded-2xl p-8 shadow-2xl border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,s.jsx)("svg",{className:"w-12 h-12 text-blue-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4"})}),(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white mb-1",children:"Atlas Admin"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Administrative dashboard"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("input",{type:"password",placeholder:"Enter password",value:t,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 outline-none transition",onKeyDown:e=>"Enter"===e.key&&C()}),(0,s.jsx)("button",{onClick:C,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition",children:"Unlock Dashboard"}),N&&(0,s.jsx)("div",{className:"px-4 py-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-300 text-sm",children:N})]})]})}):null}}},e=>{e.O(0,[441,964,358],()=>e(e.s=5516)),_N_E=e.O()}]);